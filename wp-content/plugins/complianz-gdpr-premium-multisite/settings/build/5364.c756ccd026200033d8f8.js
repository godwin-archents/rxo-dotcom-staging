"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[5364,5294,5671,849],{65294:function(e,t,r){r.r(t);var s=r(69307),c=r(99196);t.default=(0,c.memo)((e=>{let{value:t,onChange:r,required:i,disabled:n,id:l,name:a,placeholder:o}=e;const p=l||a,[d,u]=(0,c.useState)("");return(0,c.useEffect)((()=>{u(t||"")}),[t]),(0,c.useEffect)((()=>{if(t===d)return;const e=setTimeout((()=>{r(d)}),400);return()=>{clearTimeout(e)}}),[d]),(0,s.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,s.createElement)("input",{type:"text",id:p,name:a,value:d,onChange:e=>(e=>{u(e)})(e.target.value),required:i,disabled:n,className:"cmplz-text-input-group__input",placeholder:o}))}))},85671:function(e,t,r){r.r(t);var s=r(30270),c=r(12902),i=r(48399);const n=(0,s.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,r)=>{e((0,c.ZP)((e=>{if("block_script"===r){let r=e.blockedScripts;if(t.urls){for(const[e,s]of Object.entries(t.urls)){if(!s||0===s.length)continue;let e=!1;for(const[t,c]of Object.entries(r))s===t&&(e=!0);e||(r[s]=s)}e.blockedScripts=r}}const s=e.scripts[r].findIndex((e=>e.id===t.id));-1!==s&&(e.scripts[r][s]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:r,plugins:s,scripts:c,placeholders:i,blocked_scripts:n}=await l();let a=c;a.block_script&&a.block_script.length>0&&a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script&&a.add_script.length>0&&a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script&&a.whitelist_script.length>0&&a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:r,plugins:s,scripts:a,fetching:!1,placeholders:i,blockedScripts:n})))},addScript:r=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,c.ZP)((e=>{e.scripts[r]=[]}))),e((0,c.ZP)((e=>{e.scripts[r].push({name:"general",id:e.scripts[r].length,enable:!0})})));let s=t().scripts;return i.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(r,s)=>{e({fetching:!0}),t().scripts[s]&&Array.isArray(t().scripts[s])||e((0,c.ZP)((e=>{e.scripts[s]=[]}))),e((0,c.ZP)((e=>{const t=e.scripts[s].findIndex((e=>e.id===r.id));-1!==t&&(e.scripts[s][t]=r)})));let n=t().scripts;return i.doAction("update_scripts",{scripts:n}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(r,s)=>{e({fetching:!0}),t().scripts[s]&&Array.isArray(t().scripts[s])||e((0,c.ZP)((e=>{e.scripts[s]=[]}))),e((0,c.ZP)((e=>{const t=e.scripts[s].findIndex((e=>e.id===r.id));-1!==t&&e.scripts[s].splice(t,1)})));let n=t().scripts;return i.doAction("update_scripts",{scripts:n}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,r)=>{e({fetching:!0}),e((0,c.ZP)((e=>{const s=e.plugins.findIndex((e=>e.id===t));-1!==s&&(e.plugins[s].enabled=r)})));const s=await i.doAction("update_plugin_status",{plugin:t,enabled:r}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),s},updatePlaceholderStatus:async(t,r,s)=>{e({fetching:!0}),s&&e((0,c.ZP)((e=>{const s=e.plugins.findIndex((e=>e.id===t));-1!==s&&(e.plugins[s].placeholder=r?"enabled":"disabled")})));const n=await i.doAction("update_placeholder_status",{id:t,enabled:r}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),n}})));t.default=n;const l=()=>i.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},25364:function(e,t,r){r.r(t);var s=r(69307),c=r(65736),i=r(60849),n=r(65294),l=r(23361),a=r(85671);t.default=e=>{const{setScript:t,fetching:r}=(0,a.default)(),o=e.script,p=e.type;let d=o.hasOwnProperty("urls")?Object.entries(o.urls):[""];return(0,s.createElement)("div",{className:"cmplz-details-row"},(0,s.createElement)("label",null,"block_script"===p&&(0,c.__)("URLs that should be blocked before consent.","complianz-gdpr"),"whitelist_script"===p&&(0,s.createElement)(s.Fragment,null,(0,c.__)("URLs that should be whitelisted.","complianz-gdpr"),(0,i.default)("https://complianz.io/whitelisting-inline-script/"))),d.map(((c,i)=>{let[a,p]=c;return(0,s.createElement)("div",{key:i,className:"cmplz-scriptcenter-url"},(0,s.createElement)(n.default,{disabled:r,value:p||"",onChange:r=>((r,s)=>{let c={...o},i={...c.urls};i[r]=s,c.urls=i,t(c,e.type)})(a,r),id:i+"_url",name:"url"}),0===i&&(0,s.createElement)("button",{className:"button button-default",onClick:()=>(()=>{let r={...o},s=Object.keys(r.urls).length,c={...r.urls};c[s+1]="",r.urls=c,t(r,e.type)})()}," ",(0,s.createElement)(l.default,{name:"plus",size:14})),0!==i&&(0,s.createElement)("button",{className:"button button-default",onClick:()=>(r=>{let s={...o},c={...s.urls};delete c[r],s.urls=c,t(s,e.type)})(a)}," ",(0,s.createElement)(l.default,{name:"minus",size:14})))})))}},60849:function(e,t,r){r.r(t);var s=r(69307),c=r(65736),i=r(99950);t.default=e=>(0,s.createElement)(s.Fragment,null," ",(0,s.createElement)(i.default,{url:e,target:"_blank",rel:"noopener noreferrer",text:(0,c.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")}}]);