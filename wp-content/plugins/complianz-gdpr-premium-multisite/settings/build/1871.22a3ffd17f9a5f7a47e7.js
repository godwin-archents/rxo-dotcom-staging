"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[1871,1789],{71789:function(e,t,l){l.r(t);var i=l(30270),s=l(48399);const n=(0,i.Ue)(((e,t)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:t,notices:l}=await s.doAction("license_notices",{}).then((e=>e));e((e=>({noticesLoaded:!0,licenseNotices:l,licenseStatus:t})))},activateLicense:async t=>{let l={};l.license=t,e({processing:!0});const{licenseStatus:i,notices:n}=await s.doAction("activate_license",l);e((e=>({processing:!1,licenseNotices:n,licenseStatus:i})))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:t,notices:l}=await s.doAction("deactivate_license");e((e=>({processing:!1,licenseNotices:l,licenseStatus:t})))}})));t.default=n},1871:function(e,t,l){l.r(t);var i=l(69307),s=l(99950),n=l(65736),c=l(82485),a=l(71789),r=l(56293),m=l(5830),o=l(38892),d=l(27856),p=l.n(d);t.default=e=>{const{highLightField:t,getFieldValue:d}=(0,r.default)(),{licenseStatus:u}=(0,a.default)(),{bannerDataLoaded:g}=(0,m.default)();let _="https://complianz.io/pricing/";const{subMenu:f,getMenuRegions:z,selectedSubMenuItem:h}=(0,c.default)();let v=z(),k=d("regions");Array.isArray(k)||(k=[k]),v=v.filter((e=>k.includes(e)));const[E,N]=(0,i.useState)(null);(0,i.useEffect)((()=>{Promise.resolve().then(l.bind(l,93019)).then((e=>{let{default:t}=e;N((()=>t))}))}),[]);let b,y=[];for(const t of e.fields)t.group_id===e.group&&y.push(t);for(const e of f.menu_items)if(e.id===h?b=e:e.menu_items&&(b=e.menu_items.filter((e=>e.id===h))[0]),b)break;for(const t of f.menu_items)if(t.id===h&&t.hasOwnProperty("groups")){let l=t.groups.filter((t=>t.id===e.group));l.length>0&&(b=l[0])}if(!b)return null;let L=b.premium_text?b.premium_text:(0,n.__)("Learn more about %sPremium%s","complianz-gdpr");cmplz_settings.is_premium&&(L="empty"===u||"deactivated"===u?cmplz_settings.messageInactive:cmplz_settings.messageInvalid);let S=!1;b.premium&&(S=!cmplz_settings.is_premium,cmplz_settings.is_premium&&(S="valid"!==u&&"license"!==b.id)),_=b.upgrade?b.upgrade:_;let w=b.helpLink_text?b.helpLink_text:(0,n.__)("Instructions","complianz-gdpr"),x=S?"cmplz-disabled":"";return y.filter((e=>e.conditionallyDisabled&&!0===e.conditionallyDisabled||e.visible&&!1===e.visible)).length===y.length?null:(0,i.createElement)("div",{className:"cmplz-grid-item cmplz-"+b.id+" "+x,key:b.id},b.title&&(0,i.createElement)("div",{className:"cmplz-grid-item-header"},(0,i.createElement)("h3",{className:"cmplz-h4"},b.title),v.length>0&&(0,i.createElement)("div",{className:"cmplz-grid-item-controls"},v.map(((e,t)=>(0,i.createElement)("div",{key:t},(0,i.createElement)("img",{className:"cmplz-settings-region",src:cmplz_settings.plugin_url+"/assets/images/"+e+".svg",alt:"region"}))))),0===v.length&&b.helpLink&&(0,i.createElement)("div",{className:"cmplz-grid-item-controls"},(0,i.createElement)(s.default,{target:"_blank",rel:"noopener noreferrer",className:"cmplz-helplink",text:w,url:b.helpLink}))),(0,i.createElement)("div",{className:"cmplz-grid-item-content"},b.intro&&(0,i.createElement)("div",{className:"cmplz-settings-block-intro",dangerouslySetInnerHTML:{__html:p().sanitize(b.intro)}})," ",E&&y.map(((e,l)=>(0,i.createElement)(o.default,{key:"field-"+e.id,fallback:"Could not load field "+e.id},(0,i.createElement)(E,{key:e.id,field:e,highLightField:t}))))),S&&(0,i.createElement)("div",{className:"cmplz-locked"},(0,i.createElement)("div",{className:"cmplz-locked-overlay"},(0,i.createElement)("span",{className:"cmplz-task-status cmplz-premium"},(0,n.__)("Upgrade","complianz-gdpr")),(0,i.createElement)("span",null,cmplz_settings.is_premium&&(0,i.createElement)("span",null,L,"Â ",(0,i.createElement)("a",{className:"cmplz-locked-link",href:cmplz_settings.license_url},(0,n.__)("Check license","complianz-gdpr"))),!cmplz_settings.is_premium&&(0,i.createElement)(s.default,{target:"_blank",rel:"noopener noreferrer",text:L,url:_})))),"banner"===f.id&&!g&&(0,i.createElement)("div",{className:"cmplz-locked"},(0,i.createElement)("div",{className:"cmplz-locked-overlay"})))}}}]);