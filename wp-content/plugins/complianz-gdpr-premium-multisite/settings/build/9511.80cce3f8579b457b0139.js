"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[9511],{9511:function(e,n,o){o.r(n);var t=o(30270),c=o(48399);const s=(0,t.Ue)(((e,n)=>({documentsLoaded:!1,fetching:!1,generating:!1,documents:[],downloadUrl:"",regions:[],fields:[],deleteDocuments:async o=>{let t=n().documents.filter((e=>o.includes(e.id)));e((e=>({documents:e.documents.filter((e=>!o.includes(e.id)))})));let s={};s.documents=t,await c.doAction("delete_proof_of_consent_documents",s).then((e=>e)).catch((e=>{console.error(e)}))},generateProofOfConsent:async()=>{e({generating:!0}),await c.doAction("generate_proof_of_consent",{}).then((e=>e)).catch((e=>{console.error(e)})),await n().fetchData(),e({generating:!1})},fetchData:async()=>{if(n().fetching)return;e({fetching:!0});const{documents:o,regions:t,download_url:s}=await c.doAction("get_proof_of_consent_documents",{}).then((e=>e)).catch((e=>{console.error(e)}));e((e=>({documentsLoaded:!0,documents:o,regions:t,downloadUrl:s,fetching:!1})))}})));n.default=s}}]);