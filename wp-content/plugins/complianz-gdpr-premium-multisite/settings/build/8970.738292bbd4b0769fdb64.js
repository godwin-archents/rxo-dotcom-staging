"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[8970,1752],{58970:function(e,t,a){a.r(t);var l=a(69307),n=a(23361),i=a(65736),s=a(91752);t.default=(0,l.memo)((e=>{let{field:t}=e;const{statusLoaded:a,startPluginAction:r,apiRequestActive:u,pluginAction:c,rating:g,upgradeUrl:p,setStatusLoaded:d}=(0,s.default)(),o=t.plugin_data.title,m=t.plugin_data.summary,_=t.plugin_data.description,v=t.plugin_data.image;(0,l.useEffect)((()=>{a||r(t.plugin_data.slug,"status")}),[a]),(0,l.useEffect)((()=>{d(!1)}),[t.plugin_data.slug]);const f=e=>{let t=[];for(let a=1;a<=e;a++)t.push(a);return t};let z,A=u;switch(c){case"upgrade-to-premium":z=(0,i.__)("Upgrade","complianz-gdpr");break;case"activate":z=u?(0,i.__)("Activating","complianz-gdpr"):(0,i.__)("Activate","complianz-gdpr");break;case"download":z=u?(0,i.__)("Installing","complianz-gdpr"):(0,i.__)("Install","complianz-gdpr");break;default:A=!0,z=a?(0,i.__)("Installed","complianz-gdpr"):(0,i.__)("Checking status","complianz-gdpr")}return(0,l.createElement)("div",{className:"cmplz-suggested-plugin"},(0,l.createElement)("img",{className:"cmplz-suggested-plugin-img",src:cmplz_settings.plugin_url+"/upgrade/img/"+v}),(0,l.createElement)("div",{className:"cmplz-suggested-plugin-group"},(0,l.createElement)("div",{className:"cmplz-suggested-plugin-group-title"},o),(0,l.createElement)("div",{className:"cmplz-suggested-plugin-group-desc"},m),(0,l.createElement)("div",{className:"cmplz-suggested-plugin-group-rating"},(()=>{let e=Math.floor(g),t=Math.ceil(g-e),a=5-e-t;return e=f(e),t=f(t),a=f(a),(0,l.createElement)("div",{className:"star-rating"},(0,l.createElement)("span",{className:"screen-reader-text"},(0,i.__)("%s rating based on %d ratings","complianz-gdpr").replace("%s","5").replace("%d","84")),e.map(((e,t)=>(0,l.createElement)("div",{key:t,className:"star star-full","aria-hidden":"true"}))),t.map(((e,t)=>(0,l.createElement)("div",{key:t,className:"star star-half","aria-hidden":"true"}))),a.map(((e,t)=>(0,l.createElement)("div",{key:t,className:"star star-empty","aria-hidden":"true"}))))})())),(0,l.createElement)("div",{className:"cmplz-suggested-plugin-desc-long"},_),(0,l.createElement)("div",null,"upgrade-to-premium"!==c&&(0,l.createElement)("button",{type:"button",disabled:A,onClick:e=>{r(t.plugin_data.slug)},className:"button-secondary cmplz-install-plugin"},z,u&&(0,l.createElement)(n.default,{name:"loading",color:"grey"})),"upgrade-to-premium"===c&&(0,l.createElement)("a",{target:"_blank",rel:"noopener noreferrer",href:p,type:"button",className:"button-secondary cmplz-install-plugin"},z)))}))},91752:function(e,t,a){a.r(t);var l=a(30270),n=a(48399);const i=(0,l.Ue)(((e,t)=>({apiRequestActive:!1,pluginAction:"status",wordPressUrl:"#",upgradeUrl:"#",rating:[],statusLoaded:!1,setStatusLoaded:t=>{e({statusLoaded:t})},startPluginAction:(a,l)=>{let i={};e({apiRequestActive:!0}),i.pluginAction=void 0!==l?l:t().pluginAction,i.slug=a;let s=!1;"download"===i.pluginAction&&(s="activate"),n.doAction("plugin_actions",i).then((l=>{e({pluginAction:l.pluginAction,wordPressUrl:l.wordpress_url,upgradeUrl:l.upgrade_url});let n=Math.round(l.star_rating.rating/10,0)/2;e({rating:n,ratingCount:l.star_rating.rating_count,apiRequestActive:!1,statusLoaded:!0}),"activate"===s&&"installed"!==l.pluginAction&&t().startPluginAction(a,l.pluginAction)}))}})));t.default=i}}]);