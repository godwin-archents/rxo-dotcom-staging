"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[8884,2175,881],{78884:function(e,t,a){a.r(t);var n=a(69307),o=a(80881),i=a(48399),l=a(56293),s=a(82485),r=a(55609);t.default=e=>{let{label:t,field:a,disabled:d}=e;const{fetchFieldsData:c,showSavedSettingsNotice:u}=(0,l.default)(),{selectedSubMenuItem:m}=(0,s.default)(),[f,g]=(0,n.useState)(!1);let p=a.button_text?a.button_text:a.label;if(a.action){const e=async e=>{a.warn?g(!0):await s()},t=async()=>{g(!1),await s()},l=()=>{g(!1)},s=async e=>{await i.doAction(a.action,{}).then((e=>{e.success&&(c(m),u(e.message))}))};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.default,{text:p,style:"secondary",disabled:d,onClick:t=>e(t)}),(0,n.createElement)(r.__experimentalConfirmDialog,{isOpen:f,onConfirm:t,onCancel:l},a.warn))}return(0,n.createElement)(o.default,{style:"secondary",label:p,disabled:d,href:a.url})}},32175:function(e,t,a){a.r(t),a.d(t,{UseCookieScanData:function(){return i}});var n=a(30270),o=a(48399);const i=(0,n.Ue)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),o.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},80881:function(e,t,a){a.r(t);var n=a(69307),o=a(48399),i=a(56293),l=a(82485),s=a(55609),r=a(32175),d=a(82387);t.default=(0,n.memo)((e=>{let{type:t="action",style:a="tertiary",label:c,onClick:u,href:m="",target:f="",disabled:g,action:p,field:b,children:C}=e;if(!c&&!C)return null;const w=(b&&b.button_text?b.button_text:c)||C,{fetchFieldsData:_,showSavedSettingsNotice:h}=(0,i.default)(),{setInitialLoadCompleted:k,setProgress:y}=(0,r.UseCookieScanData)(),{setProgressLoaded:L}=(0,d.default)(),{selectedSubMenuItem:x}=(0,l.default)(),[S,v]=(0,n.useState)(!1),D=`button cmplz-button button--${a} button-${t}`,E=async e=>{await o.doAction(b.action,{}).then((e=>{e.success&&(_(x),"reset_settings"===e.id&&(k(!1),y(0),L(!1)),h(e.message))}))},I=b&&b.warn?b.warn:"";return"action"===t?(0,n.createElement)(n.Fragment,null,s.__experimentalConfirmDialog&&(0,n.createElement)(s.__experimentalConfirmDialog,{isOpen:S,onConfirm:async()=>{v(!1),await E()},onCancel:()=>{v(!1)}},I),(0,n.createElement)("button",{className:D,onClick:async e=>{if("action"!==t||!u)return"action"===t&&p?s.__experimentalConfirmDialog?void(b&&b.warn?v(!0):await E()):void await E():void(window.location.href=b.url);u(e)},disabled:g},w)):"link"===t?(0,n.createElement)("a",{className:D,href:m,target:f},w):void 0}))}}]);