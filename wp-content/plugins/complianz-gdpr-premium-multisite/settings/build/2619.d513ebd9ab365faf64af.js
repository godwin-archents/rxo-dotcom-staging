"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[2619,2533],{22619:function(e,n,r){r.r(n);var t=r(69307),a=r(65736),l=r(56293),o=r(82485),i=r(23361),d=r(32533);n.default=(0,t.memo)((()=>{const{fieldsLoaded:e,fields:n,updateField:r,getFieldValue:c,changedFields:u,setChangedField:s,updateFieldsData:p,addHelpNotice:m,fetchAllFieldsCompleted:g,allRequiredFieldsCompleted:_,notCompletedRequiredFields:f}=(0,l.default)(),{getMenuLinkById:h}=(0,o.default)(),{cookiebannerRequired:b,getCookieBannerRequired:k}=(0,d.default)();return(0,t.useEffect)((()=>{e&&(u.length>0||k())}),[u]),(0,t.useEffect)((()=>{e&&g()}),[e,n]),(0,t.useEffect)((()=>{e&&c("cookie_banner_required")!==b&&(r("cookie_banner_required",b),s("cookie_banner_required",b),p())}),[e,b]),(0,t.useEffect)((()=>{if(e)if(b){let e=(0,a.__)("The consent banner and cookie blocker are required on your website.","complianz-gdpr")+" "+(0,a.__)("You can enable them both here, then you should check your website if your configuration is working properly.","complianz-gdpr")+" "+(0,a.__)("Please read the below article to debug any issues while in safe mode. Safe mode is available under settings.","complianz-gdpr")+" "+(0,a.__)("You will find tips and tricks on your dashboard after you have configured your consent banner.","complianz-gdpr");m("last-step-feedback","default",e,(0,a.__)("A consent banner is required","complianz-gdpr"),"https://complianz.io/debugging-manual")}else{let e=(0,a.__)("Your site does not require a consent banner. If you think you need a consent banner, please review your wizard settings.","complianz-gdpr");m("last-step-feedback","warning",e,(0,a.__)("A consent banner is not required","complianz-gdpr"))}}),[e,b,u]),(0,t.createElement)(t.Fragment,null,f.length<2&&(0,t.createElement)("b",null,(0,a.__)("Almost there!","complianz-gdpr")),f.length>=2&&(0,t.createElement)("b",null,(0,a.__)("There are %s questions that are required to complete the wizard.","complianz-gdpr").replace("%s",f.length)),_&&(0,t.createElement)("div",null,(0,t.createElement)("p",null,(0,a.__)("Click '%s' to complete the configuration. You can come back to change your configuration at any time.","complianz-gdpr").replace("%s",(0,a.__)("Finish","complianz-gdpr"))),b&&(0,t.createElement)("p",null,(0,a.__)("The consent banner and the cookie blocker are now ready to be enabled.","complianz-gdpr")+" "+(0,a.__)("Please check your website after finishing the wizard to verify that your configuration is working properly.","complianz-gdpr"))),!_&&(0,t.createElement)("div",null,(0,t.createElement)("p",null,(0,a.__)("Not all required fields are completed yet.","complianz-gdpr")+" "+(0,a.__)("Please check the wizard to complete all required questions.","complianz-gdpr")),(0,t.createElement)("p",null,(0,a.__)("The following required fields have not been completed:","complianz-gdpr")),(0,t.createElement)("ul",null,f.map(((e,n)=>(0,t.createElement)("li",{key:n},(0,t.createElement)("div",null,e.parent_label?e.parent_label:e.label,"Â ",(0,t.createElement)("a",{href:h(e.menu_id)},(0,t.createElement)(i.default,{name:"circle-chevron-right",color:"black",tooltip:(0,a.__)("Go to question","complianz-gdpr"),size:14})))))))))}))},32533:function(e,n,r){r.r(n);var t=r(30270),a=r(48399);const l=(0,t.Ue)(((e,n)=>({cookiebannerRequired:!1,loading:!1,getCookieBannerRequired:async()=>{if(n().loading)return;e({loading:!0});const{required:r}=await a.doAction("get_cookiebanner_required",{}).then((e=>e));e({cookiebannerRequired:r,loading:!1})}})));n.default=l}}]);