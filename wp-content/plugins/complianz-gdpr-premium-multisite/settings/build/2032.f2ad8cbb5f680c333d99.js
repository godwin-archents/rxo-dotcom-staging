"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[2032,924],{82032:function(t,e,a){a.r(e);var n=a(69307),s=a(924),i=a(23361),o=a(65736),l=a(55609),r=a(56293);e.default=(0,n.memo)((()=>{const{progress:t,active:e,start:a,next:c,total:p,copySites:m}=(0,s.default)(),[u,g]=(0,n.useState)(!1),{addHelpNotice:d,removeHelpNotice:f}=(0,r.default)();return(0,n.useEffect)((()=>{t<100?e&&((async()=>{await m(!1)})(),d("copy-multisite","warning",(0,o.__)("Complianz is currently copying settings of site %1$s to %2$s of %3$s sites.","complianz-gdpr").replace("%1$s",a).replace("%2$s",c).replace("%3$s",p),(0,o.__)("Copying settings...","complianz-gdpr"),!1)):f("copy-multisite")}),[t]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"cmplz-export-container"},(0,n.createElement)(l.__experimentalConfirmDialog,{isOpen:u,onConfirm:async()=>{g(!1),await m(!0)},onCancel:()=>{g(!1)}},(0,o.__)("Are you sure? This will overwrite the settings in all your subsites with the Complianz settings of this site.","complianz-gdpr")),(0,n.createElement)("button",{className:"button button-default",onClick:()=>g(!0)},(0,o.__)("Start","complianz-gdpr"),e&&(0,n.createElement)(n.Fragment,null,"Â ",t,"%",(0,n.createElement)(i.default,{name:"loading",color:"grey"})))))}))},924:function(t,e,a){a.r(e);var n=a(30270),s=a(48399);const i=(0,n.Ue)(((t,e)=>({progress:0,total:0,start:0,next:0,active:!1,copySites:async e=>{let a={restart:e};t({active:!0});const{start:n,next:i,total:o}=await s.doAction("copy_multisite",a).then((t=>t));let l=Math.round(i/o*100);t({progress:l,start:n,next:i,total:o}),l>=100&&t({active:!1})}})));e.default=i}}]);