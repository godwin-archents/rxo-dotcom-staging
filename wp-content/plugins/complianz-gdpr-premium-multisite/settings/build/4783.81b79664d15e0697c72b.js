"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[4783,2175,881,2588,5294,5671,849],{32175:function(e,t,n){n.r(t),n.d(t,{UseCookieScanData:function(){return c}});var r=n(30270),a=n(48399);const c=(0,r.Ue)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),a.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},80881:function(e,t,n){n.r(t);var r=n(69307),a=n(48399),c=n(56293),l=n(82485),s=n(55609),o=n(32175),i=n(82387);t.default=(0,r.memo)((e=>{let{type:t="action",style:n="tertiary",label:d,onClick:u,href:p="",target:m="",disabled:f,action:h,field:b,children:g}=e;if(!d&&!g)return null;const _=(b&&b.button_text?b.button_text:d)||g,{fetchFieldsData:E,showSavedSettingsNotice:k}=(0,c.default)(),{setInitialLoadCompleted:v,setProgress:y}=(0,o.UseCookieScanData)(),{setProgressLoaded:C}=(0,i.default)(),{selectedSubMenuItem:w}=(0,l.default)(),[N,z]=(0,r.useState)(!1),S=`button cmplz-button button--${n} button-${t}`,x=async e=>{await a.doAction(b.action,{}).then((e=>{e.success&&(E(w),"reset_settings"===e.id&&(v(!1),y(0),C(!1)),k(e.message))}))},A=b&&b.warn?b.warn:"";return"action"===t?(0,r.createElement)(r.Fragment,null,s.__experimentalConfirmDialog&&(0,r.createElement)(s.__experimentalConfirmDialog,{isOpen:N,onConfirm:async()=>{z(!1),await x()},onCancel:()=>{z(!1)}},A),(0,r.createElement)("button",{className:S,onClick:async e=>{if("action"!==t||!u)return"action"===t&&h?s.__experimentalConfirmDialog?void(b&&b.warn?z(!0):await x()):void await x():void(window.location.href=b.url);u(e)},disabled:f},_)):"link"===t?(0,r.createElement)("a",{className:S,href:p,target:m},_):void 0}))},382:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(69307),a=n(87462),c=n(99196),l=n(28771),s=n(25360),o=n(36206),i=n(77342),d=n(57898),u=n(7546),p=n(29115),m=n(75320);const f="Checkbox",[h,b]=(0,s.b)(f),[g,_]=h(f),E=(0,c.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:d,required:u,disabled:p,value:f="on",onCheckedChange:h,...b}=e,[_,E]=(0,c.useState)(null),C=(0,l.e)(t,(e=>E(e))),w=(0,c.useRef)(!1),N=!_||Boolean(_.closest("form")),[z=!1,S]=(0,i.T)({prop:s,defaultProp:d,onChange:h}),x=(0,c.useRef)(z);return(0,c.useEffect)((()=>{const e=null==_?void 0:_.form;if(e){const t=()=>S(x.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[_,S]),(0,c.createElement)(g,{scope:n,state:z,disabled:p},(0,c.createElement)(m.WV.button,(0,a.Z)({type:"button",role:"checkbox","aria-checked":v(z)?"mixed":z,"aria-required":u,"data-state":y(z),"data-disabled":p?"":void 0,disabled:p,value:f},b,{ref:C,onKeyDown:(0,o.M)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,o.M)(e.onClick,(e=>{S((e=>!!v(e)||!e)),N&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())}))})),N&&(0,c.createElement)(k,{control:_,bubbles:!w.current,name:r,value:f,checked:z,required:u,disabled:p,style:{transform:"translateX(-100%)"}}))})),k=e=>{const{control:t,checked:n,bubbles:r=!0,...l}=e,s=(0,c.useRef)(null),o=(0,d.D)(n),i=(0,u.t)(t);return(0,c.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&a){const t=new Event("click",{bubbles:r});e.indeterminate=v(n),a.call(e,!v(n)&&n),e.dispatchEvent(t)}}),[o,n,r]),(0,c.createElement)("input",(0,a.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!v(n)&&n},l,{tabIndex:-1,ref:s,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return"indeterminate"===e}function y(e){return v(e)?"indeterminate":e?"checked":"unchecked"}const C=E,w=(0,c.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...l}=e,s=_("CheckboxIndicator",n);return(0,c.createElement)(p.z,{present:r||v(s.state)||!0===s.state},(0,c.createElement)(m.WV.span,(0,a.Z)({"data-state":y(s.state),"data-disabled":s.disabled?"":void 0},l,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var N=n(65736),z=n(23361),S=n(80881),x=(0,r.memo)((e=>{let{indeterminate:t,label:n,value:a,id:c,onChange:l,required:s,disabled:o,options:i={}}=e;const[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1);let f=a;Array.isArray(f)||(f=""===f?[]:[f]),(0,r.useEffect)((()=>{let e=1===Object.keys(i).length&&"true"===Object.keys(i)[0];u(e)}),[]),t&&(a=!0);const h=f;let b=!1;Object.keys(i).length>10&&(b=!0);const g=e=>d?a:h.includes(""+e)||h.includes(parseInt(e)),_=()=>{m(!p)};let E=o&&!Array.isArray(o);return 0===Object.keys(i).length?(0,r.createElement)(r.Fragment,null,(0,N.__)("No options found","complianz-gdpr")):(0,r.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(i).map(((e,i)=>{let[u,m]=e;return(0,r.createElement)("div",{key:u,className:"cmplz-checkbox-group__item"+(!p&&i>9?" cmplz-hidden":"")},(0,r.createElement)(C,{className:"cmplz-checkbox-group__checkbox",id:c+"_"+u,checked:g(u),"aria-label":n,disabled:E||Array.isArray(o)&&o.includes(u),required:s,onCheckedChange:e=>((e,t)=>{if(d)l(!a);else{const e=h.includes(""+t)||h.includes(parseInt(t))?h.filter((e=>e!==""+t&&e!==parseInt(t))):[...h,t];l(e)}})(0,u)},(0,r.createElement)(w,{className:"cmplz-checkbox-group__indicator"},(0,r.createElement)(z.default,{name:t?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,r.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:c+"_"+u},m))})),!p&&b&&(0,r.createElement)(S.default,{onClick:()=>_()},(0,N.__)("Show more","complianz-gdpr")),p&&b&&(0,r.createElement)(S.default,{onClick:()=>_()},(0,N.__)("Show less","complianz-gdpr")))}))},32588:function(e,t,n){n.r(t);var r=n(69307),a=n(40683),c=n(23361),l=n(65736);t.default=(0,r.memo)((e=>{let{value:t=!1,onChange:n,required:s,defaultValue:o,disabled:i,options:d={},canBeEmpty:u=!0,label:p}=e;if(Array.isArray(d)){let e={};d.map((t=>{e[t.value]=t.label})),d=e}return u?(""===t||!1===t||0===t)&&(t="0",d={0:(0,l.__)("Select an option","complianz-gdpr"),...d}):t||(t=Object.keys(d)[0]),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-select-group",key:p},(0,r.createElement)(a.fC,{value:t,defaultValue:o,onValueChange:n,required:s,disabled:i&&!Array.isArray(i)},(0,r.createElement)(a.xz,{className:"cmplz-select-group__trigger"},(0,r.createElement)(a.B4,null),(0,r.createElement)(c.default,{name:"chevron-down"})),(0,r.createElement)(a.VY,{className:"cmplz-select-group__content",position:"popper"},(0,r.createElement)(a.u_,{className:"cmplz-select-group__scroll-button"},(0,r.createElement)(c.default,{name:"chevron-up"})),(0,r.createElement)(a.l_,{className:"cmplz-select-group__viewport"},(0,r.createElement)(a.ZA,null,Object.entries(d).map((e=>{let[t,n]=e;return(0,r.createElement)(a.ck,{disabled:Array.isArray(i)&&i.includes(t),className:"cmplz-select-group__item",key:t,value:t},(0,r.createElement)(a.eT,null,n))})))),(0,r.createElement)(a.$G,{className:"cmplz-select-group__scroll-button"},(0,r.createElement)(c.default,{name:"chevron-down"})))))}))},38857:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(69307),a=n(87462),c=n(99196),l=n(36206),s=n(28771),o=n(25360),i=n(77342),d=n(57898),u=n(7546),p=n(75320);const m="Switch",[f,h]=(0,o.b)(m),[b,g]=f(m),_=(0,c.forwardRef)(((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:h,...g}=e,[_,v]=(0,c.useState)(null),y=(0,s.e)(t,(e=>v(e))),C=(0,c.useRef)(!1),w=!_||Boolean(_.closest("form")),[N=!1,z]=(0,i.T)({prop:o,defaultProp:d,onChange:h});return(0,c.createElement)(b,{scope:n,checked:N,disabled:m},(0,c.createElement)(p.WV.button,(0,a.Z)({type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":k(N),"data-disabled":m?"":void 0,disabled:m,value:f},g,{ref:y,onClick:(0,l.M)(e.onClick,(e=>{z((e=>!e)),w&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())}))})),w&&(0,c.createElement)(E,{control:_,bubbles:!C.current,name:r,value:f,checked:N,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),E=e=>{const{control:t,checked:n,bubbles:r=!0,...l}=e,s=(0,c.useRef)(null),o=(0,d.D)(n),i=(0,u.t)(t);return(0,c.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&a){const t=new Event("click",{bubbles:r});a.call(e,n),e.dispatchEvent(t)}}),[o,n,r]),(0,c.createElement)("input",(0,a.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:n},l,{tabIndex:-1,ref:s,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function k(e){return e?"checked":"unchecked"}const v=_,y=(0,c.forwardRef)(((e,t)=>{const{__scopeSwitch:n,...r}=e,l=g("SwitchThumb",n);return(0,c.createElement)(p.WV.span,(0,a.Z)({"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0},r,{ref:t}))}));var C=n(56293),w=(0,r.memo)((e=>{let{value:t,onChange:n,required:a,disabled:c,className:l,label:s,id:o}=e;const{getField:i}=(0,C.default)();let d=t;return"0"!==t&&"1"!==t||(d="1"===t),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-switch-group"},(0,r.createElement)(v,{className:"cmplz-switch-root "+l,checked:d,onCheckedChange:e=>{"banner"===i(o).data_target&&(e=e?"1":"0"),n(e)},disabled:c,required:a},(0,r.createElement)(y,{className:"cmplz-switch-thumb"})))}))},65294:function(e,t,n){n.r(t);var r=n(69307),a=n(99196);t.default=(0,a.memo)((e=>{let{value:t,onChange:n,required:c,disabled:l,id:s,name:o,placeholder:i}=e;const d=s||o,[u,p]=(0,a.useState)("");return(0,a.useEffect)((()=>{p(t||"")}),[t]),(0,a.useEffect)((()=>{if(t===u)return;const e=setTimeout((()=>{n(u)}),400);return()=>{clearTimeout(e)}}),[u]),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,r.createElement)("input",{type:"text",id:d,name:o,value:u,onChange:e=>(e=>{p(e)})(e.target.value),required:c,disabled:l,className:"cmplz-text-input-group__input",placeholder:i}))}))},85671:function(e,t,n){n.r(t);var r=n(30270),a=n(12902),c=n(48399);const l=(0,r.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,n)=>{e((0,a.ZP)((e=>{if("block_script"===n){let n=e.blockedScripts;if(t.urls){for(const[e,r]of Object.entries(t.urls)){if(!r||0===r.length)continue;let e=!1;for(const[t,a]of Object.entries(n))r===t&&(e=!0);e||(n[r]=r)}e.blockedScripts=n}}const r=e.scripts[n].findIndex((e=>e.id===t.id));-1!==r&&(e.scripts[n][r]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:n,plugins:r,scripts:a,placeholders:c,blocked_scripts:l}=await s();let o=a;o.block_script&&o.block_script.length>0&&o.block_script.forEach(((e,t)=>{e.id=t})),o.add_script&&o.add_script.length>0&&o.add_script.forEach(((e,t)=>{e.id=t})),o.whitelist_script&&o.whitelist_script.length>0&&o.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:n,plugins:r,scripts:o,fetching:!1,placeholders:c,blockedScripts:l})))},addScript:n=>{e({fetching:!0}),t().scripts[n]&&Array.isArray(t().scripts[n])||e((0,a.ZP)((e=>{e.scripts[n]=[]}))),e((0,a.ZP)((e=>{e.scripts[n].push({name:"general",id:e.scripts[n].length,enable:!0})})));let r=t().scripts;return c.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,a.ZP)((e=>{e.scripts[r]=[]}))),e((0,a.ZP)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&(e.scripts[r][t]=n)})));let l=t().scripts;return c.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,a.ZP)((e=>{e.scripts[r]=[]}))),e((0,a.ZP)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&e.scripts[r].splice(t,1)})));let l=t().scripts;return c.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,n)=>{e({fetching:!0}),e((0,a.ZP)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].enabled=n)})));const r=await c.doAction("update_plugin_status",{plugin:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),r},updatePlaceholderStatus:async(t,n,r)=>{e({fetching:!0}),r&&e((0,a.ZP)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].placeholder=n?"enabled":"disabled")})));const l=await c.doAction("update_placeholder_status",{id:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),l}})));t.default=l;const s=()=>c.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},44783:function(e,t,n){n.r(t);var r=n(69307),a=(n(38857),n(60849)),c=n(65294),l=n(32588),s=n(65736),o=n(85671),i=n(382);t.default=e=>{const{setScript:t,fetching:n,placeholders:d}=(0,o.default)(),u=e.script,p=e.type,m=(n,r)=>{let a={...u};a[r]=n,t(a,e.type)};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,r.createElement)("label",null,(0,s.__)("Placeholder","complianz-gdpr")),(0,r.createElement)(i.default,{id:u.id+"placeholder",disabled:n,value:u.enable_placeholder,onChange:e=>m(e,"enable_placeholder"),options:{true:(0,s.__)("Enable placeholder","complianz-gdpr")}})),!!u.enable_placeholder&&(0,r.createElement)(r.Fragment,null,"block_script"===p&&(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,r.createElement)(i.default,{id:u.id+"iframe",disabled:n,value:u.iframe||"",onChange:e=>m(e||"","iframe"),options:{true:(0,s.__)("The blocked content is an iframe","complianz-gdpr")}})),!u.iframe&&(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},(0,r.createElement)("p",null,(0,s.__)("Enter the div class or ID that should be targeted.","complianz-gdpr"),(0,a.default)("https://complianz.io/integrating-plugins/#placeholder/")),(0,r.createElement)(c.default,{disabled:n,value:u.placeholder_class||"",onChange:e=>m(e||"","placeholder_class"),name:"placeholder_class",placeholder:(0,s.__)("Your CSS class","complianz-gdpr")})),(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,r.createElement)(l.default,{disabled:n,value:u.placeholder?u.placeholder:"default",options:d,onChange:e=>m(e||"default","placeholder")}))))}},60849:function(e,t,n){n.r(t);var r=n(69307),a=n(65736),c=n(99950);t.default=e=>(0,r.createElement)(r.Fragment,null," ",(0,r.createElement)(c.default,{url:e,target:"_blank",rel:"noopener noreferrer",text:(0,a.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")},29115:function(e,t,n){n.d(t,{z:function(){return s}});var r=n(99196),a=n(91850),c=n(28771),l=n(9981);const s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=(0,r.useState)(),c=(0,r.useRef)({}),s=(0,r.useRef)(e),i=(0,r.useRef)("none"),d=e?"mounted":"unmounted",[u,p]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=o(c.current);i.current="mounted"===u?e:"none"}),[u]),(0,l.b)((()=>{const t=c.current,n=s.current;if(n!==e){const r=i.current,a=o(t);e?p("MOUNT"):"none"===a||"none"===(null==t?void 0:t.display)?p("UNMOUNT"):p(n&&r!==a?"ANIMATION_OUT":"UNMOUNT"),s.current=e}}),[e,p]),(0,l.b)((()=>{if(t){const e=e=>{const n=o(c.current).includes(e.animationName);e.target===t&&n&&(0,a.flushSync)((()=>p("ANIMATION_END")))},n=e=>{e.target===t&&(i.current=o(c.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}p("ANIMATION_END")}),[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,r.useCallback)((e=>{e&&(c.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:s.isPresent}):r.Children.only(n),d=(0,c.e)(s.ref,i.ref);return"function"==typeof n||s.isPresent?(0,r.cloneElement)(i,{ref:d}):null};function o(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"}}]);